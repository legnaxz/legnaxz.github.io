import{f as A,a as x}from"../chunks/CyvNoMz5.js";import{i as V}from"../chunks/CwnEBny-.js";import{h as S,I as q,L as B,N as D,J as F,K as G,M as H,k as K,O as P,A as j,B as g,q as n,C as J,G as u,D as _,F as m,P as h,Q as c,R as Q}from"../chunks/BWj85I39.js";import{a as Y,l as $,e as z,s as N}from"../chunks/CtT923be.js";import{i as E}from"../chunks/C0BM_qeP.js";const W=Symbol("is custom element"),X=Symbol("is html");function Z(e){if(S){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;b(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;b(e,"checked",null),e.checked=s}}};e.__on_r=a,q(a),Y()}}function b(e,r,a,o){var s=ee(e);S&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[B]=a),a==null?e.removeAttribute(r):typeof a!="string"&&re(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ee(e){return e.__attributes??(e.__attributes={[W]:e.nodeName.includes("-"),[X]:e.namespaceURI===D})}var L=new Map;function re(e){var r=L.get(e.nodeName);if(r)return r;L.set(e.nodeName,r=[]);for(var a,o=e,s=Element.prototype;s!==o;){a=G(o);for(var t in a)a[t].set&&r.push(t);o=F(o)}return r}function ae(e,r,a=r){var o=H();$(e,"input",s=>{var t=s?e.defaultValue:e.value;if(t=k(e)?w(t):t,a(t),o&&t!==(t=r())){var p=e.selectionStart,d=e.selectionEnd;e.value=t??"",d!==null&&(e.selectionStart=p,e.selectionEnd=Math.min(d,e.value.length))}}),(S&&e.defaultValue!==e.value||K(r)==null&&e.value)&&a(k(e)?w(e.value):e.value),P(()=>{var s=r();k(e)&&s===w(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function k(e){var r=e.type;return r==="number"||r==="range"}function w(e){return e===""?null:+e}async function se(e){try{return(await(await fetch(`https://4221-118-130-112-221.ngrok-free.app/fb-video?url=${encodeURIComponent(e)}`)).json()).videoUrl||null}catch(r){return console.error("❌ 동영상 추출 실패:",r),null}}var te=A('<p class="text-red-500 mt-3"> </p>'),oe=A('<div class="mt-6"><video controls class="w-full rounded"><source type="video/mp4"/> 브라우저가 video 태그를 지원하지 않습니다.</video> <a download="" class="block mt-3 text-blue-600 hover:underline">⬇️ 동영상 다운로드</a></div>',2),le=A('<div class="p-6 max-w-xl mx-auto"><h1 class="text-2xl font-bold mb-4">🎥 Facebook 광고 동영상 추출기</h1> <input class="border px-3 py-2 w-full rounded mb-3" type="text" placeholder="광고 공유 링크 입력 (예: https://www.facebook.com/ads/library/?id=...)"/> <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"> </button> <!> <!></div>');function fe(e,r){j(r,!1);let a=h(""),o=h(null),s=h(!1),t=h(null);async function p(){c(s,!0),c(t,null),c(o,null);try{const l=await se(n(a));l?c(o,l):c(t,"❌ 동영상을 찾을 수 없습니다.")}catch(l){c(t,"⚠️ 오류 발생: "+l)}finally{c(s,!1)}}V();var d=le(),y=u(_(d),2);Z(y);var v=u(y,2),I=_(v,!0);m(v);var M=u(v,2);{var U=l=>{var i=te(),f=_(i,!0);m(i),g(()=>N(f,n(t))),x(l,i)};E(M,l=>{n(t)&&l(U)})}var T=u(M,2);{var C=l=>{var i=oe(),f=_(i),O=_(f);Q(),m(f);var R=u(f,2);m(i),g(()=>{b(O,"src",n(o)),b(R,"href",n(o))}),x(l,i)};E(T,l=>{n(o)&&l(C)})}m(d),g(()=>{v.disabled=n(s),N(I,n(s)?"🔄 추출 중...":"📥 동영상 추출")}),ae(y,()=>n(a),l=>c(a,l)),z("click",v,p),x(e,d),J()}export{fe as component};
