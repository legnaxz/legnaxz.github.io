import{f as A,a as x}from"../chunks/BkQsM63d.js";import{i as F}from"../chunks/-vDyiKhK.js";import{h as L,I as O,L as B,N as H,J as P,K as V,M as j,k as q,O as D,A as G,B as y,q as n,C as K,G as u,D as m,F as h,P as b,Q as i}from"../chunks/CKBzfikX.js";import{a as J,l as Q,e as Y,s as N}from"../chunks/rHzHqiSn.js";import{i as S}from"../chunks/Iior94Vw.js";const z=Symbol("is custom element"),W=Symbol("is html");function X(e){if(L){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;p(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;p(e,"checked",null),e.checked=s}}};e.__on_r=r,O(r),J()}}function p(e,a,r,t){var s=Z(e);L&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[B]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ee(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function Z(e){return e.__attributes??(e.__attributes={[z]:e.nodeName.includes("-"),[W]:e.namespaceURI===H})}var T=new Map;function ee(e){var a=T.get(e.nodeName);if(a)return a;T.set(e.nodeName,a=[]);for(var r,t=e,s=Element.prototype;s!==t;){r=V(t);for(var o in r)r[o].set&&a.push(o);t=P(t)}return a}function ae(e,a,r=a){var t=j();Q(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=w(e)?U(o):o,r(o),t&&o!==(o=a())){var g=e.selectionStart,f=e.selectionEnd;e.value=o??"",f!==null&&(e.selectionStart=g,e.selectionEnd=Math.min(f,e.value.length))}}),(L&&e.defaultValue!==e.value||q(a)==null&&e.value)&&r(w(e)?U(e.value):e.value),D(()=>{var s=a();w(e)&&s===U(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function w(e){var a=e.type;return a==="number"||a==="range"}function U(e){return e===""?null:+e}var re=A('<p class="text-red-500"> </p>'),se=A('<div class="mt-4"><p class="font-semibold text-green-600">✅ 추출 성공!</p> <video class="w-full mt-2" controls></video> <a class="block mt-2 text-blue-600 underline" target="_blank" download="">⬇️ 동영상 다운로드</a></div>',2),oe=A('<main class="p-6 max-w-xl mx-auto space-y-4 svelte-6hcj36"><h1 class="text-2xl font-bold">📽️ Facebook 광고 영상 추출기</h1> <input class="w-full p-2 border rounded" placeholder="Facebook 광고 URL을 붙여넣으세요"/> <button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded"> </button> <!> <!></main>');function de(e,a){G(a,!1);let r=b(""),t=b(null),s=b(!1),o=b("");async function g(){if(!n(r).includes("facebook.com/ads/library/?id=")){i(o,"올바른 Facebook 광고 URL을 입력해주세요.");return}i(s,!0),i(t,null),i(o,"");const l="https://6671-118-130-112-221.ngrok-free.app",c=encodeURIComponent(n(r)),v=`${l}/fb-video?url=${c}`;try{const d=await fetch(v);if(!d.ok)throw new Error(`HTTP ${d.status}`);const E=await d.json();E.videoUrl?i(t,E.videoUrl):i(o,"동영상을 찾을 수 없습니다.")}catch(d){i(o,`요청 실패: ${d.message}`)}finally{i(s,!1)}}F();var f=oe(),k=u(m(f),2);X(k);var _=u(k,2),I=m(_,!0);h(_);var M=u(_,2);{var R=l=>{var c=re(),v=m(c);h(c),y(()=>N(v,`❌ ${n(o)??""}`)),x(l,c)};S(M,l=>{n(o)&&l(R)})}var $=u(M,2);{var C=l=>{var c=se(),v=u(m(c),2),d=u(v,2);h(c),y(()=>{p(v,"src",n(t)),p(d,"href",n(t))}),x(l,c)};S($,l=>{n(t)&&l(C)})}h(f),y(()=>{_.disabled=n(s),N(I,n(s)?"추출 중...":"🎬 동영상 추출하기")}),ae(k,()=>n(r),l=>i(r,l)),Y("click",_,g),x(e,f),K()}export{de as component};
