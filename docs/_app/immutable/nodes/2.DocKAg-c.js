import{f as L,a as k}from"../chunks/BkQsM63d.js";import{i as U}from"../chunks/-vDyiKhK.js";import{h as g,I as T,L as F,N as O,J as C,K as R,M as V,k as q,O as B,A as D,B as A,q as n,C as G,G as v,D as h,F as m,P as b,Q as f,z as H}from"../chunks/CKBzfikX.js";import{a as K,l as P,e as j,s as z}from"../chunks/rHzHqiSn.js";import{i as J}from"../chunks/Iior94Vw.js";const Q=Symbol("is custom element"),Y=Symbol("is html");function $(e){if(g){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;_(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;_(e,"checked",null),e.checked=t}}};e.__on_r=a,T(a),K()}}function _(e,r,a,s){var t=W(e);g&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[F]=a),a==null?e.removeAttribute(r):typeof a!="string"&&X(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function W(e){return e.__attributes??(e.__attributes={[Q]:e.nodeName.includes("-"),[Y]:e.namespaceURI===O})}var E=new Map;function X(e){var r=E.get(e.nodeName);if(r)return r;E.set(e.nodeName,r=[]);for(var a,s=e,t=Element.prototype;t!==s;){a=R(s);for(var o in a)a[o].set&&r.push(o);s=C(s)}return r}function Z(e,r,a=r){var s=V();P(e,"input",t=>{var o=t?e.defaultValue:e.value;if(o=p(e)?y(o):o,a(o),s&&o!==(o=r())){var d=e.selectionStart,c=e.selectionEnd;e.value=o??"",c!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(c,e.value.length))}}),(g&&e.defaultValue!==e.value||q(r)==null&&e.value)&&a(p(e)?y(e.value):e.value),B(()=>{var t=r();p(e)&&t===y(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function p(e){var r=e.type;return r==="number"||r==="range"}function y(e){return e===""?null:+e}function ee(e){const r=e.match(/id=(\d+)/);return r?r[1]:null}async function re(e){return(await(await fetch(`https://your-proxy-server.com/fb-video?id=${e}`)).json()).videoUrl??null}var ae=L('<video controls class="mt-6 w-full rounded shadow"></video> <p class="mt-2 text-blue-600 underline"><a download="" target="_blank" rel="noopener">📥 동영상 다운로드</a></p>',3),te=L('<div class="p-6 max-w-xl mx-auto"><h1 class="text-2xl font-bold mb-4">📺 Facebook 광고 동영상 추출기</h1> <input class="border px-3 py-2 w-full rounded mb-3" type="text" placeholder="예: https://www.facebook.com/ads/library/?id=1234567890"/> <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full"> </button> <!></div>');function de(e,r){D(r,!1);let a=b(""),s=b(null),t=b(!1);async function o(){const l=ee(n(a));if(!l){alert("❌ 유효한 Facebook 광고 URL이 아닙니다.");return}f(t,!0),f(s,null);try{f(s,await re(l)),n(s)||alert("⚠️ 광고 영상 링크를 찾을 수 없습니다.")}catch(u){console.error("❌ 동영상 추출 실패:",u),alert("서버에서 광고 영상을 가져오지 못했습니다.")}finally{f(t,!1)}}U();var d=te(),c=v(h(d),2);$(c);var i=v(c,2),M=h(i,!0);m(i);var N=v(i,2);{var S=l=>{var u=ae(),x=H(u),w=v(x,2),I=h(w);m(w),A(()=>{_(x,"src",n(s)),_(I,"href",n(s))}),k(l,u)};J(N,l=>{n(s)&&l(S)})}m(d),A(()=>{i.disabled=n(t),z(M,n(t)?"⏳ 추출 중...":"🎥 광고 동영상 추출")}),Z(c,()=>n(a),l=>f(a,l)),j("click",i,o),k(e,d),G()}export{de as component};
