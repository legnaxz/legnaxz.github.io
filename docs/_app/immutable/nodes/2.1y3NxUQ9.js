import{f as w,a as p}from"../chunks/1mzktNb4.js";import"../chunks/sLdNt3NM.js";import{h as k,t as F,L as C,N as D,v as O,w as R,x as V,m as B,y as G,z as n,A as c,B as u,C as g,D as _,F as m,G as I,I as H}from"../chunks/oSY1WBSC.js";import{a as Y,l as j,e as q,s as z}from"../chunks/ZSxBtG_Q.js";import{i as N}from"../chunks/B3-ZW8PI.js";const K=Symbol("is custom element"),P=Symbol("is html");function $(e){if(k){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;h(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var o=e.checked;h(e,"checked",null),e.checked=o}}};e.__on_r=a,F(a),Y()}}function h(e,r,a,t){var o=J(e);k&&(o[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||o[r]!==(o[r]=a)&&(r==="loading"&&(e[C]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Q(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function J(e){return e.__attributes??(e.__attributes={[K]:e.nodeName.includes("-"),[P]:e.namespaceURI===D})}var S=new Map;function Q(e){var r=S.get(e.nodeName);if(r)return r;S.set(e.nodeName,r=[]);for(var a,t=e,o=Element.prototype;o!==t;){a=R(t);for(var d in a)a[d].set&&r.push(d);t=O(t)}return r}function W(e,r,a=r){var t=V();j(e,"input",o=>{var d=o?e.defaultValue:e.value;if(d=x(e)?y(d):d,a(d),t&&d!==(d=r())){var f=e.selectionStart,v=e.selectionEnd;e.value=d??"",v!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(v,e.value.length))}}),(k&&e.defaultValue!==e.value||B(r)==null&&e.value)&&a(x(e)?y(e.value):e.value),G(()=>{var o=r();x(e)&&o===y(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function x(e){var r=e.type;return r==="number"||r==="range"}function y(e){return e===""?null:+e}var X=w('<p class="mt-4 text-green-600 font-medium">🔎 광고 ID: <strong> </strong></p>'),Z=w('<div class="mt-6"><p class="text-lg font-semibold mb-2">📽️ 추출된 동영상:</p> <video controls class="w-full rounded shadow"><source type="video/mp4"/> Your browser does not support the video tag.</video> <a download="facebook-ad-video.mp4" class="block mt-4 text-blue-600 underline">⬇️ 동영상 다운로드</a></div>',2),ee=w('<div class="p-6 max-w-xl mx-auto"><h1 class="text-2xl font-bold mb-4">📺 Facebook 광고 동영상 추출기</h1> <input class="border px-3 py-2 w-full rounded mb-3" type="text" placeholder="예: https://www.facebook.com/ads/library/?id=1234567890"/> <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">🎬 광고 동영상 추출</button> <!> <!></div>');function le(e){let r=g(""),a=g(null),t=g(null);function o(s){const l=s.match(/id=(\d+)/);return l?l[1]:null}async function d(){if(m(a,o(n(r))),m(t,null),!n(a)){alert("⚠️ 유효한 Facebook 광고 URL이 아닙니다.");return}try{const l=await(await fetch(`http://localhost:3000/fb-video?id=${n(a)}`)).json();l.videoUrl?m(t,l.videoUrl):alert("❌ 동영상을 찾을 수 없습니다.")}catch(s){console.error("❌ 동영상 추출 실패:",s),alert("❌ 동영상 추출 중 오류가 발생했습니다.")}}var f=ee(),v=c(u(f),2);$(v);var A=c(v,2),E=c(A,2);{var L=s=>{var l=X(),i=c(u(l)),b=u(i,!0);_(i),_(l),I(()=>z(b,n(a))),p(s,l)};N(E,s=>{n(a)&&s(L)})}var M=c(E,2);{var U=s=>{var l=Z(),i=c(u(l),2),b=u(i);H(),_(i);var T=c(i,2);_(l),I(()=>{h(b,"src",n(t)),h(T,"href",n(t))}),p(s,l)};N(M,s=>{n(t)&&s(U)})}_(f),W(v,()=>n(r),s=>m(r,s)),q("click",A,d),p(e,f)}export{le as component};
