import{f as g,a as u}from"../chunks/CyvNoMz5.js";import{i as U}from"../chunks/CwnEBny-.js";import{h as w,I as T,L as O,N as R,J as C,K as D,M as F,k as V,O as q,A as B,q as n,C as G,G as f,D as _,P as m,F as h,Q as b,B as E,R as H}from"../chunks/BWj85I39.js";import{a as K,l as P,e as $,s as j}from"../chunks/CtT923be.js";import{i as I}from"../chunks/C0BM_qeP.js";const J=Symbol("is custom element"),Q=Symbol("is html");function Y(e){if(w){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;y(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;y(e,"checked",null),e.checked=t}}};e.__on_r=a,T(a),K()}}function y(e,r,a,s){var t=z(e);w&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[O]=a),a==null?e.removeAttribute(r):typeof a!="string"&&W(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function z(e){return e.__attributes??(e.__attributes={[J]:e.nodeName.includes("-"),[Q]:e.namespaceURI===R})}var M=new Map;function W(e){var r=M.get(e.nodeName);if(r)return r;M.set(e.nodeName,r=[]);for(var a,s=e,t=Element.prototype;t!==s;){a=D(s);for(var o in a)a[o].set&&r.push(o);s=C(s)}return r}function X(e,r,a=r){var s=F();P(e,"input",t=>{var o=t?e.defaultValue:e.value;if(o=p(e)?x(o):o,a(o),s&&o!==(o=r())){var i=e.selectionStart,d=e.selectionEnd;e.value=o??"",d!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(d,e.value.length))}}),(w&&e.defaultValue!==e.value||V(r)==null&&e.value)&&a(p(e)?x(e.value):e.value),q(()=>{var t=r();p(e)&&t===x(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function p(e){var r=e.type;return r==="number"||r==="range"}function x(e){return e===""?null:+e}function Z(e){const r=e.match(/id=(\d+)/);return r?r[1]:null}async function ee(e){try{return(await(await fetch(`http://localhost:3000/fb-video?id=${e}`)).json()).videoUrl||null}catch(r){return console.error("❌ 동영상 추출 실패:",r),null}}var re=g('<p class="mt-4 text-green-600"> </p>'),ae=g('<video controls class="mt-4 w-full rounded"><source type="video/mp4"/> 비디오를 재생할 수 없습니다.</video>',2),te=g('<div class="p-6 max-w-xl mx-auto"><h1 class="text-2xl font-bold mb-4">📺 Facebook 광고 동영상 추출기</h1> <input type="text" placeholder="예: https://www.facebook.com/ads/library/?id=1234567890" class="border px-3 py-2 w-full rounded mb-3"/> <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">📥 광고 동영상 추출</button> <!> <!></div>');function de(e,r){B(r,!1);let a=m(""),s=m(null),t=m(null);async function o(){if(b(s,Z(n(a))),!n(s))return alert("잘못된 광고 URL입니다.");b(t,await ee(n(s))),n(t)||alert("❌ 동영상을 찾을 수 없습니다.")}U();var i=te(),d=f(_(i),2);Y(d);var k=f(d,2),A=f(k,2);{var N=l=>{var c=re(),v=_(c);h(c),E(()=>j(v,`✅ 광고 ID: ${n(s)??""}`)),u(l,c)};I(A,l=>{n(s)&&l(N)})}var S=f(A,2);{var L=l=>{var c=ae(),v=_(c);H(),h(c),E(()=>y(v,"src",n(t))),u(l,c)};I(S,l=>{n(t)&&l(L)})}h(i),X(d,()=>n(a),l=>b(a,l)),$("click",k,o),u(e,i),G()}export{de as component};
