import{f as U,a as x}from"../chunks/BkQsM63d.js";import{i as O}from"../chunks/-vDyiKhK.js";import{h as A,I as V,L as D,N as F,J as H,K as P,M as $,k as q,O as B,A as G,B as y,q as n,C as K,G as v,D as m,F as b,P as h,Q as c}from"../chunks/CKBzfikX.js";import{a as j,l as J,e as Q,s as I}from"../chunks/rHzHqiSn.js";import{i as M}from"../chunks/Iior94Vw.js";const Y=Symbol("is custom element"),z=Symbol("is html");function W(e){if(A){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;p(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var s=e.checked;p(e,"checked",null),e.checked=s}}};e.__on_r=a,V(a),j()}}function p(e,r,a,o){var s=X(e);A&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[D]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Z(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function X(e){return e.__attributes??(e.__attributes={[Y]:e.nodeName.includes("-"),[z]:e.namespaceURI===F})}var N=new Map;function Z(e){var r=N.get(e.nodeName);if(r)return r;N.set(e.nodeName,r=[]);for(var a,o=e,s=Element.prototype;s!==o;){a=P(o);for(var t in a)a[t].set&&r.push(t);o=H(o)}return r}function ee(e,r,a=r){var o=$();J(e,"input",s=>{var t=s?e.defaultValue:e.value;if(t=w(e)?L(t):t,a(t),o&&t!==(t=r())){var g=e.selectionStart,f=e.selectionEnd;e.value=t??"",f!==null&&(e.selectionStart=g,e.selectionEnd=Math.min(f,e.value.length))}}),(A&&e.defaultValue!==e.value||q(r)==null&&e.value)&&a(w(e)?L(e.value):e.value),B(()=>{var s=r();w(e)&&s===L(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function w(e){var r=e.type;return r==="number"||r==="range"}function L(e){return e===""?null:+e}var re=U('<p class="text-red-600 mt-4"> </p>'),ae=U('<div class="mt-6"><p class="font-semibold mb-2">✅ 비디오 미리보기:</p> <video controls class="w-full max-w-md border"></video> <a download="" class="mt-2 inline-block text-blue-700 underline">🔽 비디오 다운로드</a></div>',2),se=U('<div class="max-w-xl mx-auto p-4"><h1 class="text-xl font-bold mb-4">Facebook 광고 비디오 추출기</h1> <input type="text" class="w-full p-2 border border-gray-300 rounded mb-2 svelte-d352kn" placeholder="Facebook 광고 URL을 입력하세요 (예: https://www.facebook.com/ads/library/?id=...)"/> <button class="px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50 svelte-d352kn"> </button> <!> <!></div>');function ne(e,r){G(r,!1);let a=h(""),o=h(""),s=h(!1),t=h("");async function g(){c(t,""),c(s,!0),c(o,"");const l=n(a).match(/id=(\d+)/),d=l==null?void 0:l[1];if(!d){c(t,"유효한 광고 ID가 포함된 URL을 입력하세요"),c(s,!1);return}try{const i=await fetch(`https://4221-118-130-112-221.ngrok-free.app/fb-video?id=${encodeURIComponent(d)}`);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const _=await i.json();_.videoUrl?c(o,_.videoUrl):c(t,"비디오 URL을 찾을 수 없습니다")}catch(i){c(t,`❌ 동영상 추출 실패: ${i.message}`)}finally{c(s,!1)}}O();var f=se(),k=v(m(f),2);W(k);var u=v(k,2),S=m(u,!0);b(u);var E=v(u,2);{var T=l=>{var d=re(),i=m(d,!0);b(d),y(()=>I(i,n(t))),x(l,d)};M(E,l=>{n(t)&&l(T)})}var R=v(E,2);{var C=l=>{var d=ae(),i=v(m(d),2),_=v(i,2);b(d),y(()=>{p(i,"src",n(o)),p(_,"href",n(o))}),x(l,d)};M(R,l=>{n(o)&&l(C)})}b(f),y(()=>{u.disabled=n(s)||!n(a),I(S,n(s)?"추출 중...":"비디오 추출")}),ee(k,()=>n(a),l=>c(a,l)),Q("click",u,g),x(e,f),K()}export{ne as component};
