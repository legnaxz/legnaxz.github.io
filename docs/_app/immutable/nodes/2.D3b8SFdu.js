import{f as x,a as b}from"../chunks/BkQsM63d.js";import{i as V}from"../chunks/-vDyiKhK.js";import{h as L,I as q,L as B,N as G,J as H,K,M as P,k as z,O as J,A as Q,B as k,q as n,C as Y,G as d,D as _,F as m,P as p,Q as i,z as j}from"../chunks/CKBzfikX.js";import{a as W,l as X,e as Z,s as S}from"../chunks/rHzHqiSn.js";import{i as A}from"../chunks/Iior94Vw.js";const $=Symbol("is custom element"),ee=Symbol("is html");function re(e){if(L){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;g(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var a=e.checked;g(e,"checked",null),e.checked=a}}};e.__on_r=t,q(t),W()}}function g(e,r,t,l){var a=ae(e);L&&(a[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||a[r]!==(a[r]=t)&&(r==="loading"&&(e[B]=t),t==null?e.removeAttribute(r):typeof t!="string"&&te(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function ae(e){return e.__attributes??(e.__attributes={[$]:e.nodeName.includes("-"),[ee]:e.namespaceURI===G})}var U=new Map;function te(e){var r=U.get(e.nodeName);if(r)return r;U.set(e.nodeName,r=[]);for(var t,l=e,a=Element.prototype;a!==l;){t=K(l);for(var o in t)t[o].set&&r.push(o);l=H(l)}return r}function se(e,r,t=r){var l=P();X(e,"input",a=>{var o=a?e.defaultValue:e.value;if(o=I(e)?E(o):o,t(o),l&&o!==(o=r())){var y=e.selectionStart,f=e.selectionEnd;e.value=o??"",f!==null&&(e.selectionStart=y,e.selectionEnd=Math.min(f,e.value.length))}}),(L&&e.defaultValue!==e.value||z(r)==null&&e.value)&&t(I(e)?E(e.value):e.value),J(()=>{var a=r();I(e)&&a===E(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function I(e){var r=e.type;return r==="number"||r==="range"}function E(e){return e===""?null:+e}function oe(e){const r=e.match(/id=(\d+)/);return r?r[1]:null}async function le(e){return"https://www.w3schools.com/html/mov_bbb.mp4"}var ne=x('<p class="mt-4 text-green-600">✅ 추출된 광고 ID: <strong> </strong></p>'),ce=x('<p class="mt-2 text-gray-500">⏳ 동영상을 불러오는 중입니다...</p>'),de=x('<video class="mt-6 w-full rounded" controls></video> <p class="mt-2 text-blue-600 underline"><a target="_blank" rel="noopener">🔗 원본 영상 링크 열기</a></p>',3),fe=x('<div class="p-6 max-w-xl mx-auto"><h1 class="text-2xl font-bold mb-4">📺 광고 동영상 추출기</h1> <input class="border px-3 py-2 w-full rounded mb-3" type="text" placeholder="예: https://www.facebook.com/ads/library/?id=1234567890"/> <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded w-full"> </button> <!> <!> <!></div>');function he(e,r){Q(r,!1);let t=p(""),l=p(null),a=p(null),o=p(!1);async function y(){if(i(l,oe(n(t))),!n(l)){alert("❌ 유효한 Facebook 광고 URL이 아닙니다.");return}i(o,!0),i(a,null);try{const s=await le(n(l));s?(i(a,s),console.log("✅ 추출된 videoUrl:",n(a))):alert("⚠️ 광고 영상 링크를 찾을 수 없습니다.")}catch(s){console.error("❌ 동영상 추출 중 오류:",s),alert("동영상을 가져오는 중 오류가 발생했습니다.")}finally{i(o,!1)}}V();var f=fe(),w=d(_(f),2);re(w);var v=d(w,2),T=_(v,!0);m(v);var M=d(v,2);{var O=s=>{var c=ne(),u=d(_(c)),h=_(u,!0);m(u),m(c),k(()=>S(h,n(l))),b(s,c)};A(M,s=>{n(l)&&s(O)})}var N=d(M,2);{var C=s=>{var c=ce();b(s,c)};A(N,s=>{n(o)&&s(C)})}var D=d(N,2);{var F=s=>{var c=de(),u=j(c),h=d(u,2),R=_(h);m(h),k(()=>{g(u,"src",n(a)),g(R,"href",n(a))}),b(s,c)};A(D,s=>{n(a)&&s(F)})}m(f),k(()=>{v.disabled=n(o),S(T,n(o)?"⏳ 추출 중...":"🎥 광고 동영상 추출")}),se(w,()=>n(t),s=>i(t,s)),Z("click",v,y),b(e,f),Y()}export{he as component};
