import{f as g,a as m}from"../chunks/BkQsM63d.js";import{i as R}from"../chunks/-vDyiKhK.js";import{h as S,I as V,L as q,N as B,J as F,K as G,M as K,k as j,O as J,A as Q,q as f,C as Y,G as u,D as A,P as p,F as M,Q as i,B as L}from"../chunks/CKBzfikX.js";import{a as z,l as W,e as X,s as Z}from"../chunks/rHzHqiSn.js";import{i as x}from"../chunks/Iior94Vw.js";const $=Symbol("is custom element"),ee=Symbol("is html");function re(e){if(S){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;b(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;b(e,"checked",null),e.checked=s}}};e.__on_r=a,V(a),z()}}function b(e,r,a,t){var s=ae(e);S&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[q]=a),a==null?e.removeAttribute(r):typeof a!="string"&&se(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ae(e){return e.__attributes??(e.__attributes={[$]:e.nodeName.includes("-"),[ee]:e.namespaceURI===B})}var T=new Map;function se(e){var r=T.get(e.nodeName);if(r)return r;T.set(e.nodeName,r=[]);for(var a,t=e,s=Element.prototype;s!==t;){a=G(t);for(var o in a)a[o].set&&r.push(o);t=F(t)}return r}function oe(e,r,a=r){var t=K();W(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=E(e)?N(o):o,a(o),t&&o!==(o=r())){var y=e.selectionStart,c=e.selectionEnd;e.value=o??"",c!==null&&(e.selectionStart=y,e.selectionEnd=Math.min(c,e.value.length))}}),(S&&e.defaultValue!==e.value||j(r)==null&&e.value)&&a(E(e)?N(e.value):e.value),J(()=>{var s=r();E(e)&&s===N(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function E(e){var r=e.type;return r==="number"||r==="range"}function N(e){return e===""?null:+e}var te=g("<p>🔄 추출 중입니다...</p>"),le=g('<div class="space-y-2"><p>✅ 추출 성공!</p> <a target="_blank" class="text-blue-500 underline">동영상 열기</a> <video controls class="w-full mt-2"></video></div>',2),fe=g('<p class="text-red-500"> </p>'),ie=g('<main class="p-4 space-y-4"><h1 class="text-xl font-bold">Facebook 광고 동영상 추출기</h1> <input class="border p-2 rounded w-full" placeholder="광고 ID 입력 (예: 1502024377873930)"/> <button class="bg-blue-600 text-white px-4 py-2 rounded">동영상 추출</button> <!></main>');function ue(e,r){Q(r,!1);let a=p(""),t=p(""),s=p(!1),o=p("");async function y(){if(f(a)){i(s,!0),i(t,""),i(o,"");try{const l=await fetch(`https://4221-118-130-112-221.ngrok-free.app/fb-video?url=https://www.facebook.com/ads/library/?id=${f(a)}`);if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const n=await l.json();n.videoUrl?i(t,n.videoUrl):i(o,"❌ 동영상 URL을 찾지 못했습니다.")}catch(l){console.error("❌ 동영상 추출 실패:",l),i(o,`❌ 오류 발생: ${l.message}`)}finally{i(s,!1)}}}R();var c=ie(),k=u(A(c),2);re(k);var I=u(k,2),U=u(I,2);{var O=l=>{var n=te();m(l,n)},C=(l,n)=>{{var D=v=>{var d=le(),h=u(A(d),2),_=u(h,2);M(d),L(()=>{b(h,"href",f(t)),b(_,"src",f(t))}),m(v,d)},H=(v,d)=>{{var h=_=>{var w=fe(),P=A(w,!0);M(w),L(()=>Z(P,f(o))),m(_,w)};x(v,_=>{f(o)&&_(h)},d)}};x(l,v=>{f(t)?v(D):v(H,!1)},n)}};x(U,l=>{f(s)?l(O):l(C,!1)})}M(c),oe(k,()=>f(a),l=>i(a,l)),X("click",I,y),m(e,c),Y()}export{ue as component};
