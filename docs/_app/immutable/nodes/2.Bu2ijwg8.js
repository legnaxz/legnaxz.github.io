import{f as L,a as x}from"../chunks/BkQsM63d.js";import{i as B}from"../chunks/-vDyiKhK.js";import{h as M,I as D,L as H,N as P,J as V,K as q,M as G,k as K,O as j,A as z,B as w,q as c,C as J,G as _,D as h,F as p,P as b,Q as d}from"../chunks/CKBzfikX.js";import{a as Q,l as Y,e as Z,s as S}from"../chunks/rHzHqiSn.js";import{i as T}from"../chunks/Iior94Vw.js";const W=Symbol("is custom element"),X=Symbol("is html");function ee(e){if(M){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;E(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var o=e.checked;E(e,"checked",null),e.checked=o}}};e.__on_r=r,D(r),Q()}}function E(e,a,r,t){var o=ae(e);M&&(o[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||o[a]!==(o[a]=r)&&(a==="loading"&&(e[H]=r),r==null?e.removeAttribute(a):typeof r!="string"&&re(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function ae(e){return e.__attributes??(e.__attributes={[W]:e.nodeName.includes("-"),[X]:e.namespaceURI===P})}var I=new Map;function re(e){var a=I.get(e.nodeName);if(a)return a;I.set(e.nodeName,a=[]);for(var r,t=e,o=Element.prototype;o!==t;){r=q(t);for(var s in r)r[s].set&&a.push(s);t=V(t)}return a}function oe(e,a,r=a){var t=G();Y(e,"input",o=>{var s=o?e.defaultValue:e.value;if(s=A(e)?U(s):s,r(s),t&&s!==(s=a())){var f=e.selectionStart,m=e.selectionEnd;e.value=s??"",m!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(m,e.value.length))}}),(M&&e.defaultValue!==e.value||K(a)==null&&e.value)&&r(A(e)?U(e.value):e.value),j(()=>{var o=a();A(e)&&o===U(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function A(e){var a=e.type;return a==="number"||a==="range"}function U(e){return e===""?null:+e}var se=L('<p class="text-red-500"> </p>'),te=L('<div class="mt-4"><p class="font-semibold text-green-600">✅ 추출 성공!</p> <video class="w-full mt-2" controls></video></div>',2),le=L('<main class="p-6 max-w-xl mx-auto space-y-4"><h1 class="text-2xl font-bold">📽️ Facebook 광고 영상 추출기</h1> <input class="w-full p-2 border rounded" placeholder="Facebook 광고 URL을 붙여넣으세요"/> <button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded"> </button> <!> <!></main>');function ve(e,a){z(a,!1);let r=b(""),t=b(null),o=b(!1),s=b(""),f="";async function m(){if(!c(r).includes("facebook.com/ads/library/?id=")){d(s,"올바른 Facebook 광고 URL을 입력해주세요.");return}d(o,!0),d(t,null),d(s,""),f="";const l="https://6671-118-130-112-221.ngrok-free.app",n=encodeURIComponent(c(r)),i=`${l}/fb-video?url=${n}`;try{const u=await fetch(i);if(!u.ok)throw new Error(`HTTP ${u.status}`);const y=await u.json();y.videoUrl?(d(t,y.videoUrl),f=(y.title||"facebook_ad_video").replace(/[^a-zA-Z0-9가-힣-_ ]/g,"").replaceAll(" ","_"),$(c(t),`${f}.mp4`)):d(s,"동영상을 찾을 수 없습니다.")}catch(u){d(s,`요청 실패: ${u.message}`)}finally{d(o,!1)}}function $(l,n){const i=document.createElement("a");i.href=l,i.download=n,i.click()}B();var g=le(),k=_(h(g),2);ee(k);var v=_(k,2),R=h(v,!0);p(v);var N=_(v,2);{var C=l=>{var n=se(),i=h(n);p(n),w(()=>S(i,`❌ ${c(s)??""}`)),x(l,n)};T(N,l=>{c(s)&&l(C)})}var F=_(N,2);{var O=l=>{var n=te(),i=_(h(n),2);p(n),w(()=>E(i,"src",c(t))),x(l,n)};T(F,l=>{c(t)&&l(O)})}p(g),w(()=>{v.disabled=c(o),S(R,c(o)?"추출 중...":"🎬 동영상 추출하기")}),oe(k,()=>c(r),l=>d(r,l)),Z("click",v,m),x(e,g),J()}export{ve as component};
