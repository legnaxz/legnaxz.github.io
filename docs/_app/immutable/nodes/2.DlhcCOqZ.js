import{f as A,a as x}from"../chunks/BkQsM63d.js";import{i as F}from"../chunks/-vDyiKhK.js";import{h as L,I as O,L as B,N as H,J as P,K as V,M as j,k as q,O as D,A as G,B as y,q as n,C as K,G as u,D as m,F as h,P as b,Q as c}from"../chunks/CKBzfikX.js";import{a as J,l as Q,e as Y,s as N}from"../chunks/rHzHqiSn.js";import{i as S}from"../chunks/Iior94Vw.js";const z=Symbol("is custom element"),W=Symbol("is html");function X(e){if(L){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;p(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;p(e,"checked",null),e.checked=s}}};e.__on_r=a,O(a),J()}}function p(e,r,a,t){var s=Z(e);L&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[B]=a),a==null?e.removeAttribute(r):typeof a!="string"&&ee(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function Z(e){return e.__attributes??(e.__attributes={[z]:e.nodeName.includes("-"),[W]:e.namespaceURI===H})}var T=new Map;function ee(e){var r=T.get(e.nodeName);if(r)return r;T.set(e.nodeName,r=[]);for(var a,t=e,s=Element.prototype;s!==t;){a=V(t);for(var o in a)a[o].set&&r.push(o);t=P(t)}return r}function re(e,r,a=r){var t=j();Q(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=w(e)?U(o):o,a(o),t&&o!==(o=r())){var g=e.selectionStart,f=e.selectionEnd;e.value=o??"",f!==null&&(e.selectionStart=g,e.selectionEnd=Math.min(f,e.value.length))}}),(L&&e.defaultValue!==e.value||q(r)==null&&e.value)&&a(w(e)?U(e.value):e.value),D(()=>{var s=r();w(e)&&s===U(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function w(e){var r=e.type;return r==="number"||r==="range"}function U(e){return e===""?null:+e}var ae=A('<p class="text-red-500"> </p>'),se=A('<div class="mt-4"><p class="font-semibold text-green-600">✅ 추출 성공!</p> <video class="w-full mt-2" controls></video> <a class="block mt-2 text-blue-600 underline" target="_blank" download="">⬇️ 동영상 다운로드</a></div>',2),oe=A('<main class="p-6 max-w-xl mx-auto space-y-4 svelte-6hcj36"><h1 class="text-2xl font-bold">📽️ Facebook 광고 영상 추출기</h1> <input class="w-full p-2 border rounded" placeholder="Facebook 광고 URL을 붙여넣으세요"/> <button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded"> </button> <!> <!></main>');function de(e,r){G(r,!1);let a=b(""),t=b(null),s=b(!1),o=b("");async function g(){if(!n(a).includes("facebook.com/ads/library/?id=")){c(o,"올바른 Facebook 광고 URL을 입력해주세요.");return}c(s,!0),c(t,null),c(o,"");const l="https://6671-118-130-112-221.ngrok-free.app",i=encodeURIComponent(n(a)),v=`${l}/fb-video?url=${i}`;try{const d=await fetch(v,{headers:{"ngrok-skip-browser-warning":"true"}});if(!d.ok)throw new Error(`HTTP ${d.status}`);const E=await d.json();E.videoUrl?c(t,E.videoUrl):c(o,"동영상을 찾을 수 없습니다.")}catch(d){c(o,`요청 실패: ${d.message}`)}finally{c(s,!1)}}F();var f=oe(),k=u(m(f),2);X(k);var _=u(k,2),I=m(_,!0);h(_);var M=u(_,2);{var R=l=>{var i=ae(),v=m(i);h(i),y(()=>N(v,`❌ ${n(o)??""}`)),x(l,i)};S(M,l=>{n(o)&&l(R)})}var $=u(M,2);{var C=l=>{var i=se(),v=u(m(i),2),d=u(v,2);h(i),y(()=>{p(v,"src",n(t)),p(d,"href",n(t))}),x(l,i)};S($,l=>{n(t)&&l(C)})}h(f),y(()=>{_.disabled=n(s),N(I,n(s)?"추출 중...":"🎬 동영상 추출하기")}),re(k,()=>n(a),l=>c(a,l)),Y("click",_,g),x(e,f),K()}export{de as component};
